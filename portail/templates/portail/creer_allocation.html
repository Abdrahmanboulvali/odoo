{% extends "portail/base.html" %}
{% block title %}Nouvelle allocation{% endblock %}

{% block content %}
<div class="card p-4" style="max-width: 720px; margin:auto;">

  <h3 class="fw-bold mb-1">Nouvelle attribution</h3>
  <div class="text-muted mb-4">Créer une allocation (attribution) avant de demander un congé</div>

  <form method="post">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label fw-semibold">Employé</label>
      <select name="employee_id" class="form-select" required>
        <option value="">-- Choisir --</option>
        {% for e in employes %}
          <option value="{{ e.id }}">{{ e.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Type de congé</label>
      <select name="leave_type_id" class="form-select" required>
        <option value="">-- Choisir --</option>
        {% for t in types %}
          <option value="{{ t.id }}">{{ t.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Nombre de jours</label>
      <input type="number" step="0.5" name="number_of_days" class="form-control" placeholder="Ex: 10" required>
    </div>

    <div class="mb-4">
      <label class="form-label fw-semibold">Description</label>
      <textarea name="description" class="form-control" rows="2" placeholder="Attribution via Portail RH"></textarea>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary">Créer</button>
      <a href="{% url 'liste_allocations' %}" class="btn btn-outline-secondary">Annuler</a>
    </div>
  </form>

</div>
{% endblock %}
