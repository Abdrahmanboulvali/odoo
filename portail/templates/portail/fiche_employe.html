{% extends "portail/base.html" %}
{% block title %}Fiche Employé{% endblock %}

{% block content %}
<div class="card p-4">

  {% if employe %}
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h3 class="fw-bold mb-0">{{ employe.name }}</h3>
        <div class="text-muted">
          {% if employe.job_title %}{{ employe.job_title }}{% else %}Poste non défini{% endif %}
        </div>
      </div>

      <a href="/employes/" class="btn btn-outline-secondary">← Retour</a>
    </div>

    <hr>

    <div class="row g-3">

      <!-- Informations professionnelles -->
      <div class="col-md-6">
        <div class="p-3 bg-light rounded">
          <div class="fw-semibold mb-2">Informations professionnelles</div>

          <div><b>Email :</b>
            {% if employe.work_email %}{{ employe.work_email }}{% else %}—{% endif %}
          </div>

          <div><b>Téléphone :</b>
            {% if employe.work_phone %}{{ employe.work_phone }}{% else %}—{% endif %}
          </div>

          <div><b>Département :</b>
            {% if employe.department_id %}{{ employe.department_id.1 }}{% else %}—{% endif %}
          </div>

          <div><b>Lieu :</b>
            {% if employe.work_location_id %}{{ employe.work_location_id.1 }}{% else %}—{% endif %}
          </div>

          <div><b>Statut :</b>
            {% if employe.active %}
              <span class="badge bg-success">Actif</span>
            {% else %}
              <span class="badge bg-danger">Inactif</span>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Hiérarchie -->
      <div class="col-md-6">
        <div class="p-3 bg-light rounded">
          <div class="fw-semibold mb-2">Hiérarchie</div>

          <div><b>Manager :</b>
            {% if employe.parent_id %}{{ employe.parent_id.1 }}{% else %}—{% endif %}
          </div>

          <div><b>Coach :</b>
            {% if employe.coach_id %}{{ employe.coach_id.1 }}{% else %}—{% endif %}
          </div>
        </div>
      </div>

    </div>

  {% else %}
    <div class="alert alert-danger">Employé introuvable.</div>
  {% endif %}

</div>
{% endblock %}
