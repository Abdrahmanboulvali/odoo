<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Portail RH{% endblock %}</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- DataTables + Bootstrap -->
  <link href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css" rel="stylesheet">

  <!-- Buttons extension -->
  <link href="https://cdn.datatables.net/buttons/3.0.2/css/buttons.bootstrap5.min.css" rel="stylesheet">

  <style>
    body { background:#f6f7fb; }

    .navbar { background:#3f51b5; }
    .navbar-brand { font-weight:800; letter-spacing:.3px; }

    .card {
      border:0;
      border-radius:16px;
      box-shadow:0 8px 22px rgba(0,0,0,.06);
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>

<body>

<nav class="navbar navbar-dark navbar-expand-lg">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand" href="{% url 'dashboard' %}">Portail RH</a>

    <!-- Button Mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarRH">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links -->
    <div class="collapse navbar-collapse" id="navbarRH">

      
      {% if request.user.is_authenticated %}
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">

          <li class="nav-item">
            <a class="nav-link" href="{% url 'liste_employes' %}">Employés</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'liste_conges' %}">Congés</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'liste_allocations' %}">Allocations</a>
          </li>

        </ul>
      {% else %}
        <div class="me-auto"></div>
      {% endif %}

      <!-- Right Side (Logout/Login) -->
      <div class="d-flex gap-2">
        {% if request.user.is_authenticated %}
          <span class="text-white small align-self-center">
            {{ request.user.username }}
          </span>

          <a href="{% url 'logout' %}" class="btn btn-outline-light btn-sm">
            Logout
          </a>
        {% else %}
        
        {% endif %}
      </div>

    </div>

  </div>
</nav>


<div class="container my-4">

  <!-- Django Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endfor %}
  {% endif %}

  {% block content %}{% endblock %}
</div>


<!-- JS -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables -->
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.min.js"></script>

<!-- Buttons -->
<script src="https://cdn.datatables.net/buttons/3.0.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.bootstrap5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js"></script>

{% block extra_js %}{% endblock %}
</body>
</html>
